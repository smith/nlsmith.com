var ACC = [
	{team:'Boston College', id:103, color:'111111'},
	{team:'Clemson', id:228, color:'f35b0f'},
	{team:'Duke', id:150, color:'004a7b'},
	{team:'Florida State', id:52, color:'b72931'},
	{team:'Georgia Tech', id:59, color:'000000'},
	{team:'Maryland', id:120, color:'d60039'},
	{team:'Miami', id:2390, color:'004325'},
	{team:'N.C. State', id:152, color:'d60039'},
	{team:'North Carolina', id:153, color:'002942'},
	{team:'Virginia', id:258, color:'000066'},
	{team:'Virginia Tech', id:259, color:'7b2129'},
	{team:'Wake Forest', id:154, color:'000000'}
];

var Big12 = [
	{team:'Baylor', id:239, color:'00844a'},
	{team:'Colorado', id:38, color:'bd9c00'},
	{team:'Iowa State', id:66, color:'d62949'},
	{team:'Kansas', id:2305, color:'0337b4'},
	{team:'Kansas State', id:2306, color:'633194'},
	{team:'Missouri', id:142, color:'000000'},
	{team:'Nebraska', id:158, color:'fe0d04'},
	{team:'Oklahoma', id:201, color:'7b0000'},
	{team:'Oklahoma State', id:197, color:'ff7300'},
	{team:'Texas', id:251, color:'ef7321'},
	{team:'Texas A&M', id:245, color:'6A3333'},
	{team:'Texas Tech', id:2641, color:'d60039'}
];

var BigEast = [
	{team:'Cincinnati', id:2132, color:'000000'},
	{team:'Connecticut', id:41, color:'0A1E5B'},
	{team:'Louisville', id:97, color:'de0018'},
	{team:'Pittsburgh', id:221, color:'313169'},
	{team:'Rutgers', id:164, color:'000000'},
	{team:'South Florida', id:58, color:'004231'},
	{team:'Syracuse', id:183, color:'1A3E86'},
	{team:'West Virginia', id:277, color:'395ab5'}
];

var BigTen = [
	{team:'Illinois', id:356, color:'f77329'},
	{team:'Indiana', id:84, color:'580000'},
	{team:'Iowa', id:2294, color:'000000'},
	{team:'Michigan', id:130, color:'292942'},
	{team:'Michigan State', id:127, color:'226b31'},
	{team:'Minnesota', id:135, color:'752132'},
	{team:'Northwestern', id:77, color:'372286'},
	{team:'Ohio State', id:194, color:'de3129'},
	{team:'Penn State', id:213, color:'29294a'},
	{team:'Purdue', id:2509, color:'211818'},
	{team:'Wisconsin', id:275, color:'c32122'}
];

var ConferenceUSA = [
	{team:'Central Florida', id:2116, color:'000000'},
	{team:'East Carolina', id:151, color:'4b1869'},
	{team:'Houston', id:248, color:'e73139'},
	{team:'Marshall', id:276, color:'186329'},
	{team:'Memphis', id:235, color:'29299c'},
	{team:'Rice', id:242, color:'00315a'},
	{team:'SMU', id:2567, color:'e73139'},
	{team:'Southern Miss', id:2572, color:'FFAA3C'},
	{team:'Tulane', id:2655, color:'084a38'},
	{team:'Tulsa', id:202, color:'004273'},
	{team:'UAB', id:5, color:'000000'},
	{team:'UTEP', id:2638, color:'ff7339'}
];

var IAIndependents = [
	{team:'Army', id:349, color:'ce9c00'},
	{team:'Navy', id:2426, color:'0f1021'},
	{team:'Notre Dame', id:87, color:'313a98'},
	{team:'Temple', id:218, color:'bc0138'}
];

var MidAmerican = [
	{team:'Akron', id:2006, color:'0A1E5B'},
	{team:'Ball State', id:2050, color:'de0000'},
	{team:'Bowling Green', id:189, color:'663300'},
	{team:'Buffalo', id:2084, color:'004a84'},
	{team:'Central Michigan', id:2117, color:'7b0000'},
	{team:'Eastern Michigan', id:2199, color:'217038'},
	{team:'Kent State', id:2309, color:'212142'},
	{team:'Miami (OHIO)', id:193, color:'ce2229'},
	{team:'Northern Illinois', id:2459, color:'e73139'},
	{team:'Ohio', id:195, color:'006342'},
	{team:'Toledo', id:2649, color:'00275D'},
	{team:'Western Michigan', id:2711, color:'825229'}
];

var MountainWest = [
	{team:'Air Force', id:2005, color:'004a7b'},
	{team:'BYU', id:252, color:'002942'},
	{team:'Colorado State', id:36, color:'008c73'},
	{team:'New Mexico', id:167, color:'000000'},
	{team:'San Diego State', id:21, color:'d60039'},
	{team:'TCU', id:2628, color:'201852'},
	{team:'UNLV', id:2439, color:'000000'},
	{team:'Utah', id:254, color:'ce4242'},
	{team:'Wyoming', id:2751, color:'523921'}
];

var Pacific10 = [
	{team:'Arizona', id:12, color:'102142'},
	{team:'Arizona State', id:9, color:'942139'},
	{team:'California', id:25, color:'002942'},
	{team:'Oregon', id:2483, color:'044520'},
	{team:'Oregon State', id:204, color:'000000'},
	{team:'Stanford', id:24, color:'b72931'},
	{team:'UCLA', id:26, color:'005a94'},
	{team:'USC', id:30, color:'a50010'},
	{team:'Washington', id:264, color:'3E3468'},
	{team:'Washington State', id:265, color:'94022a'}
];

var SEC = [
	{team:'Alabama', id:333, color:'a42d47'},
	{team:'Arkansas', id:8, color:'9c1831'},
	{team:'Auburn', id:2, color:'182942'},
	{team:'Florida', id:57, color:'2a42ce'},
	{team:'Georgia', id:61, color:'d60022'},
	{team:'Kentucky', id:96, color:'003399'},
	{team:'LSU', id:99, color:'2B0D57'},
	{team:'Mississippi', id:145, color:'101894'},
	{team:'Mississippi St.', id:344, color:'531122'},
	{team:'South Carolina', id:2579, color:'000000'},
	{team:'Tennessee', id:2633, color:'EE9627'},
	{team:'Vanderbilt', id:238, color:'000000'}
];

var SunBelt = [
	{team:'Arkansas State', id:2032, color:'e81018'},
	{team:'Fla Atlantic', id:2226, color:'000099'},
	{team:'Florida Intl', id:2229, color:'091731'},
	{team:'La Lafayette', id:309, color:'ce2842'},
	{team:'Louisiana Monroe', id:2433, color:'000000'},
	{team:'Middle Tenn. St.', id:2393, color:'1842d6'},
	{team:'North Texas', id:249, color:'006342'},
	{team:'Troy', id:2653, color:'843131'},
];

var WAC = [
	{team:'Boise State', id:68, color:'29299c'},
	{team:'Fresno State', id:278, color:'e73139'},
	{team:'Hawaii', id:62, color:'004231'},
	{team:'Idaho', id:70, color:'000000'},
	{team:'Louisiana Tech', id:2348, color:'3129e7'},
	{team:'Nevada', id:2440, color:'084a73'},
	{team:'New Mexico State', id:166, color:'730000'},
	{team:'San Jose State', id:23, color:'005a94'},
	{team:'Utah State', id:328, color:'020767'}
];

var Atlantic10 = [
	{team:'Delaware', id:48, color:'285998'},
	{team:'Hofstra', id:2275, color:'27297c'},
	{team:'James Madison', id:256, color:'0f1358'},
	{team:'Maine', id:311, color:'000000'},
	{team:'Massachusetts', id:113, color:'ac0d1e'},
	{team:'New Hampshire', id:160, color:'004371'},
	{team:'Northeastern', id:111, color:'CC0001'},
	{team:'Rhode Island', id:227, color:'003366'},
	{team:'Richmond', id:257, color:'004371'},
	{team:'Towson', id:119, color:'F3AE22'},
	{team:'Villanova', id:222, color:'006699'},
	{team:'William & Mary', id:2729, color:'00423e'}
];

var BigSky = [
	{team:'Eastern Wash.', id:331, color:'d72d35'},
	{team:'Idaho State', id:304, color:'ef8c00'},
	{team:'Montana', id:149, color:'63104a'},
	{team:'Montana State', id:147, color:'010670'},
	{team:'Northern Arizona', id:2464, color:'001894'},
	{team:'Portland State', id:2502, color:'005e60'},
	{team:'Sacramento State', id:16, color:'145f52'},
	{team:'Weber State', id:2692, color:'18005a'}
];

var BigSouth = [
	{team:'Char. Southern', id:2127, color:'2e3192'},
	{team:'Coastal Carolina', id:324, color:'59a0a0'},
	{team:'Gardner Webb', id:2241, color:'CF0000'},
	{team:'Liberty', id:2335, color:'000073'},
	{team:'VMI', id:2678, color:'000000'}
];

var Gateway = [
	{team:'Illinois State', id:2287, color:'d72d35'},
	{team:'Indiana State', id:282, color:'00669a'},
	{team:'Missouri State', id:2623, color:'4a0010'},
	{team:'Northern Iowa', id:2460, color:'130671'},
	{team:'Southern Illinois', id:79, color:'85283D'},
	{team:'Western Illinois', id:2710, color:'4e1e8a'},
	{team:'Western Kentucky', id:98, color:'000000'},
	{team:'Youngstown State', id:2754, color:'961f22'}
];

var GreatWest = [
	{team:'Cal Poly', id:13, color:'083808'},
	{team:'North Dakota St', id:2449, color:'006421'},
	{team:'Northern Colorado', id:2458, color:'003399'},
	{team:'South Dakota St', id:2571, color:'00256f'},
	{team:'Southern Utah', id:253, color:'d10000'},
	{team:'UC Davis', id:302, color:'103670'}
];

var IAAIndependents = [
	{team:'Savannah State', id:2542, color:'330099'}
];

var Ivy = [
	{team:'Brown', id:225, color:'54413a'},
	{team:'Columbia', id:171, color:'00295a'},
	{team:'Cornell', id:172, color:'d60027'},
	{team:'Dartmouth', id:159, color:'005730'},
	{team:'Harvard', id:108, color:'990000'},
	{team:'Pennsylvania', id:219, color:'B10021'},
	{team:'Princeton', id:163, color:'ff9408'},
	{team:'Yale', id:43, color:'004a81'}
];

var MAAC = [
	{team:'Duquesne', id:2184, color:'283a61'},
	{team:'Iona', id:314, color:'8c001a'},
	{team:'La Salle', id:2325, color:'000063'},
	{team:'Marist', id:2368, color:'e53730'},
	{team:"St. Peter's", id:2612, color:'001555'}
];

var MEAC = [
	{team:'Bethune Cookman', id:2065, color:'7b1831'},
	{team:'Delaware State', id:2169, color:'FF3630'},
	{team:'Florida A&M', id:50, color:'ff7329'},
	{team:'Hampton', id:2261, color:'0067AC'},
	{team:'Howard', id:47, color:'9e0b0e'},
	{team:'Morgan State', id:2415, color:'0505aa'},
	{team:'N. Carolina A&T', id:2448, color:'0505aa'},
	{team:'Norfolk State', id:2450, color:'08614f'},
	{team:'South Carolina St', id:2569, color:'7d1315'}
];

var Northeast = [
	{team:'Albany', id:399, color:'56438E'},
	{team:'Central Conn.', id:2115, color:'1e489c'},
	{team:'Monmouth (N.J.)', id:2405, color:'0d217b'},
	{team:'Robert Morris', id:2523, color:'3d4262'},
	{team:'Sacred Heart', id:2529, color:'bb003a'},
	{team:'St. Francis (PA)', id:2598, color:'a20012'},
	{team:'Stony Brook', id:2619, color:'003559'},
	{team:'Wagner', id:2681, color:'003e22'}
];

var OhioValley = [
	{team:'Eastern Illinois', id:2197, color:'000000'},
	{team:'Eastern Kentucky', id:2198, color:'800000'},
	{team:'Jacksonville St.', id:55, color:'c61018'},
	{team:'Murray State', id:93, color:'182356'},
	{team:'Samford', id:2535, color:'005485'},
	{team:'SE Missouri State', id:2546, color:'cc0000'},
	{team:'Tenn. Martin', id:2630, color:'000099'},
	{team:'Tennessee State', id:2634, color:'21398c'},
	{team:'Tennessee Tech', id:2635, color:'440e62'}
];

var PatriotLeague = [
	{team:'Bucknell', id:2083, color:'000060'},
	{team:'Colgate', id:2142, color:'910028'},
	{team:'Fordham', id:2230, color:'a50019'},
	{team:'Georgetown', id:46, color:'38427a'},
	{team:'Holy Cross', id:107, color:'0a0a0a'},
	{team:'Lafayette', id:322, color:'790000'},
	{team:'Lehigh', id:2329, color:'6c2b2a'}
];

var Pioneer = [
	{team:'Austin Peay', id:2046, color:'8e0b0b'},
	{team:'Butler', id:2086, color:'0d1361'},
	{team:'Davidson', id:2166, color:'000000'},
	{team:'Dayton', id:2168, color:'e50b0d'},
	{team:'Drake', id:2181, color:'0d1361'},
	{team:'Jacksonville', id:294, color:'008568'},
	{team:'Morehead State', id:2413, color:'29109c'},
	{team:'San Diego', id:301, color:'0d1361'},
	{team:'Valparaiso', id:2674, color:'000000'}
];

var Southern = [
	{team:'Appalachian St.', id:2026, color:'000000'},
	{team:'Elon University', id:2210, color:'020303'},
	{team:'Furman', id:231, color:'4A2184'},
	{team:'Georgia Southern', id:290, color:'0a3861'},
	{team:'The Citadel', id:2643, color:'000000'},
	{team:'UT-Chattanooga', id:236, color:'253b81'},
	{team:'Western Carolina', id:2717, color:'6e268b'},
	{team:'Wofford', id:2747, color:'000000'}
];

var Southland = [
	{team:'McNeese State', id:2377, color:'003366'},
	{team:'Nicholls State', id:2447, color:'2a5074'},
	{team:'Northwestern St.', id:2466, color:'68565f'},
	{team:'Sam Houston St.', id:2534, color:'FF7800'},
	{team:'SE Louisiana', id:2545, color:'205228'},
	{team:'Stephen F. Austin', id:2617, color:'230d3c'},
	{team:'Texas State', id:326, color:'94314a'}
];

var SWAC = [
	{team:'Alabama A&M', id:2010, color:'790000'},
	{team:'Alabama State', id:2011, color:'603913'},
	{team:'Alcorn State', id:2016, color:'C1B881'},
	{team:'Ark Pine Bluff', id:2029, color:'000000'},
	{team:'Grambling', id:2755, color:'ee8601'},
	{team:'Jackson State', id:2296, color:'123297'},
	{team:'Miss. Valley St.', id:2400, color:'054105'},
	{team:'Prairie View', id:2504, color:'4d0960'},
	{team:'Southern', id:2582, color:'291b4c'},
	{team:'Texas Southern', id:2640, color:'680100'}
];

var conferences = [
    {name:"ACC", array:ACC},
    {name:"Big 12", array:Big12},
    {name:"Big East", array:BigEast},
    {name:"Big Ten", array:BigTen},
    {name:"Conference USA", array:ConferenceUSA},
    {name:"IA Independents", array:IAIndependents},
    {name:"Mid-American", array:MidAmerican},
    {name:"Mountain West", array:MountainWest},
    {name:"Pacific-10", array:Pacific10},
    {name:"SEC", array:SEC},
    {name:"Sun Belt", array:SunBelt},
    {name:"WAC", array:WAC},
    {name:"Atlantic 10", array:Atlantic10},
    {name:"Big Sky", array:BigSky},
    {name:"Big South", array:BigSouth},
    {name:"Gateway", array:Gateway},
    {name:"Great West", array:GreatWest},
    {name:"IAA Independents", array:IAAIndependents},
    {name:"Ivy", array:Ivy},
    {name:"MAAC", array:MAAC},
    {name:"MEAC", array:MEAC},
    {name:"Northeast", array:Northeast},
    {name:"Ohio Valley", array:OhioValley},
    {name:"Patriot League", array:PatriotLeague},
    {name:"Pioneer", array:Pioneer},
    {name:"Southern", array:Southern},
    {name:"Southland", array:Southland},
    {name:"SWAC", array:SWAC}
];

var defaultTeamIndex = 0;
var defaultConferenceIndex = 0;
var teamID;
var color;

function setup()
{
    var doneButton = document.getElementById("done");
    createGenericButton(doneButton, "Done", hidePrefs);
    
    teamID = conferences[defaultConferenceIndex].array[defaultTeamIndex].id;
    teamName = conferences[defaultConferenceIndex].array[defaultTeamIndex].team;
    color = conferences[defaultConferenceIndex].array[defaultTeamIndex].color;
    
    get_schedule();
    get_logo();
    get_name();
    set_color();
}

function get_schedule()
{
    var commandLine = '/usr/bin/ruby get_schedule.rb ' + teamID;
    var output = widget.system(commandLine, null);
    document.getElementById("schedule").innerHTML = output.outputString;
}

function get_logo()
{
    //var logo = '<img src="http://www.nlsmith.com/collegefootball/logos/' 
      //+ teamID + '.png" alt="" />';
    var logo = "http://www.nlsmith.com/collegefootball/logos/" + teamID + ".png";
    //document.getElementById("teamLogo").innerHTML = logo;
    document.getElementById("teamLogo").style.backgroundImage = "url(" + logo + ")";
}

function get_name()
{
  document.getElementById("teamName").innerHTML = teamName;
}

function set_color()
{
    document.getElementById("schedule").style.backgroundColor= "#" + color;
}

function news()
{
    widget.openURL('http://sports.espn.go.com/ncf/content?teamId=' + teamID);
}

function stats()
{
    widget.openURL('http://sports.espn.go.com/ncf/teamstats?teamId=' + teamID);
}
  
function by()
{
    widget.openURL('http://www.nlsmith.com/collegefootball.php');
} 

/*********************
    Backside selection
    ******************/
function updateDefaults()
{
	// reset defaults to Iowa
    defaultConferenceIndex = 3;
    defaultTeamIndex = 2;

    var conferenceName = conferences[defaultConferenceIndex].name;
    var count = conferences.length;
            
    for(i = 0; i < count; i++)
    {
        if (conferenceName == conferences[i].name)
        {
            defaultConferenceIndex = i;
            break;
        }
    }
		
    // get team
    teamName = "Iowa"
    		// find city in 
		
    var teamArray = conferences[defaultConferenceIndex].array;
    count = teamArray.length;
    var found = false;
    for(i = 0; i < count; i++)
    {
        if (teamName == teamArray[i].team)
        {
            defaultTeamIndex = i;
            found = true;
            break;
        }
    }
}

function populateConferenceSelect()
{
	var select = document.getElementById ('conference-popup');
	var c = conferences.length;
	
	for (var i = 0; i < c; ++i)
	{

		var element = document.createElement("option");
		element.innerText = conferences[i].name;
		select.appendChild (element);
	}
}

function popuplateTeamSelect(teams)
{
	var select = document.getElementById ('team-popup');
	
	// remove all children
	while (select.hasChildNodes())
		select.removeChild(select.firstChild);
	
	var c = teams.length;
	
	for (var i = 0; i < c; ++i)
	{
		var element = document.createElement("option");
		element.innerText = teams[i].team;
		select.appendChild (element);
	}
}

function createkey(key)
{
	return widget.identifier + "-" + key;
}

function conferenceChanged (select)
{
	if (defaultConferenceIndex != select.selectedIndex)
	{
		defaultConferenceIndex = select.selectedIndex;
		popuplateTeamSelect(conferences[defaultConferenceIndex].array);
		defaultTeamIndex = 0;
	 	document.getElementById ('team-popup').options[defaultTeamIndex].selected = true;
	 	teamID = conferences[defaultConferenceIndex].array[defaultTeamIndex].id
	 	teamName = conferences[defaultConferenceIndex].array[defaultTeamIndex].team
    color = conferences[defaultConferenceIndex].array[defaultTeamIndex].color;

		if (window.widget)
		{
			widget.setPreferenceForKey (defaultConferenceIndex.toString(), createkey("conference"));
			widget.setPreferenceForKey (defaultTeamIndex.toString(), createkey("team"));
			
		}
	}
}

function teamChanged (select)
{
	if (defaultTeamIndex != select.selectedIndex)
	{
		defaultTeamIndex = select.selectedIndex;
	 	teamID = conferences[defaultConferenceIndex].array[defaultTeamIndex].id
	 	teamName = conferences[defaultConferenceIndex].array[defaultTeamIndex].team
		color = conferences[defaultConferenceIndex].array[defaultTeamIndex].color;

		if (window.widget)
		{
			widget.setPreferenceForKey (defaultConferenceIndex.toString(), createkey("conference"));
			widget.setPreferenceForKey (defaultTeamIndex.toString(), createkey("team"));
		}
	}
}
/*********************************/
// HIDING AND SHOWING PREFERENCES
/*********************************/

// showPrefs() is called when the preferences flipper is clicked upon.  It freezes the front of the widget,
// hides the front div, unhides the back div, and then flips the widget over.

function showPrefs()
{
	var front = document.getElementById("front");
	var back = document.getElementById("back");
	
	if (window.widget) 
	{
		widget.prepareForTransition("ToBack");		// freezes the widget so that you can change it without the user noticing
	}
	front.style.display="none";		// hide the front
	back.style.display="block";		// show the back
	
	if (window.widget)
	{	setTimeout ('widget.performTransition();', 0);		// and flip the widget over	
    }
	document.getElementById('fliprollie').style.display = 'none';  // clean up the front side - hide the circle behind the info button

}


// hidePrefs() is called by the done button on the back side of the widget.  It performs the opposite transition
// as showPrefs() does.

function hidePrefs()
{
    document.getElementById("loading").style.display = "block";
    get_schedule();
    get_logo();
    get_name();
    set_color();
    document.getElementById("loading").style.display = "none";
    
	var front = document.getElementById("front");
	var back = document.getElementById("back");
	
	if (window.widget) {
		widget.prepareForTransition("ToFront");		// freezes the widget and prepares it for the flip back to the front
	}
	back.style.display="none";			// hide the back
	front.style.display="block";		// show the front
	
	if (window.widget)
	{	setTimeout ('widget.performTransition();', 0);		// and flip the widget back to the front
    }

}


// PREFERENCE BUTTON ANIMATION (- the pref flipper fade in/out)

var flipShown = false;		// a flag used to signify if the flipper is currently shown or not.


// A structure that holds information that is needed for the animation to run.
var animation = {duration:0, starttime:0, to:1.0, now:0.0, from:0.0, firstElement:null, timer:null};


// mousemove() is the event handle assigned to the onmousemove property on the front div of the widget. 
// It is triggered whenever a mouse is moved within the bounds of your widget.  It prepares the
// preference flipper fade and then calls animate() to performs the animation.

function mousemove (event)
{
	if (!flipShown)			// if the preferences flipper is not already showing...
	{
		if (animation.timer != null)			// reset the animation timer value, in case a value was left behind
		{
			clearInterval (animation.timer);
			animation.timer  = null;
		}
		
		var starttime = (new Date).getTime() - 13; 		// set it back one frame
		
		animation.duration = 500;												// animation time, in ms
		animation.starttime = starttime;										// specify the start time
		animation.firstElement = document.getElementById ('flip');		// specify the element to fade
		animation.timer = setInterval ("animate();", 13);						// set the animation function
		animation.from = animation.now;											// beginning opacity (not ness. 0)
		animation.to = 1.0;														// final opacity
		animate();																// begin animation
		flipShown = true;														// mark the flipper as animated
	}
}

// mouseexit() is the opposite of mousemove() in that it preps the preferences flipper
// to disappear.  It adds the appropriate values to the animation data structure and sets the animation in motion.

function mouseexit (event)
{
	if (flipShown)
	{
		// fade in the flip widget
		if (animation.timer != null)
		{
			clearInterval (animation.timer);
			animation.timer  = null;
		}
		
		var starttime = (new Date).getTime() - 13;
		
		animation.duration = 500;
		animation.starttime = starttime;
		animation.firstElement = document.getElementById ('flip');
		animation.timer = setInterval ("animate();", 13);
		animation.from = animation.now;
		animation.to = 0.0;
		animate();
		flipShown = false;
	}
}


// animate() performs the fade animation for the preferences flipper. It uses the opacity CSS property to simulate a fade.

function animate()
{
	var T;
	var ease;
	var time = (new Date).getTime();
		
	
	T = limit_3(time-animation.starttime, 0, animation.duration);
	
	if (T >= animation.duration)
	{
		clearInterval (animation.timer);
		animation.timer = null;
		animation.now = animation.to;
	}
	else
	{
		ease = 0.5 - (0.5 * Math.cos(Math.PI * T / animation.duration));
		animation.now = computeNextFloat (animation.from, animation.to, ease);
	}
	
	animation.firstElement.style.opacity = animation.now;
}


// these functions are utilities used by animate()

function limit_3 (a, b, c)
{
    return a < b ? b : (a > c ? c : a);
}

function computeNextFloat (from, to, ease)
{
    return from + (to - from) * ease;
}

// these functions are called when the info button itself receives onmouseover and onmouseout events

function enterflip(event)
{
	document.getElementById('fliprollie').style.display = 'block';
}

function exitflip(event)
{
	document.getElementById('fliprollie').style.display = 'none';
}
